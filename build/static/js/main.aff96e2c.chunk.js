(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(1),r=t(14),u=t.n(r),o=t(3),i=function(e){var n=e.filteredList;return Object(c.jsx)("ul",{children:n.map((function(e,n){return Object(c.jsxs)("li",{children:[e.name," ",e.number]},n)}))})},s=function(e){return Object(c.jsxs)("div",{children:["filter shown with ",Object(c.jsx)("input",{value:e.value,onChange:e.onChange})]})},l=function(e){return Object(c.jsxs)("form",{onSubmit:e.onSubmitForm,children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{value:e.newName,onChange:e.handleNameChange})]}),Object(c.jsxs)("div",{children:["number: ",Object(c.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})},j=t(4),b=t.n(j),d="/api/persons",h={getAll:function(){return b.a.get(d).then((function(e){return e.data}))},create:function(e){return b.a.post(d,e).then((function(e){return e.data}))},deletePerson:function(e){return b.a.delete("".concat(d,"/").concat(e)).then((function(e){return e}))},replace:function(e,n){return b.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))}},f=function(e){var n=e.message,t=e.type;return null===n?null:Object(c.jsx)("div",{className:t,children:n})},m=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],u=Object(a.useState)(""),j=Object(o.a)(u,2),b=j[0],d=j[1],m=Object(a.useState)(""),O=Object(o.a)(m,2),v=O[0],x=O[1],g=Object(a.useState)(""),p=Object(o.a)(g,2),w=p[0],N=p[1],C=Object(a.useState)(null),S=Object(o.a)(C,2),k=S[0],y=S[1],A=Object(a.useState)(""),D=Object(o.a)(A,2),P=D[0],E=D[1];Object(a.useEffect)((function(){console.log("effect"),h.getAll().then((function(e){r(e)}))}),[]);var F=w?t.filter((function(e){return e.name.includes(w)})):t;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(f,{message:k,type:P}),Object(c.jsx)(s,{value:w,onChange:function(e){N(e.target.value)}}),Object(c.jsx)("h2",{children:"add a new"}),Object(c.jsx)(l,{onSubmitForm:function(e){e.preventDefault();var n={name:b,number:v};h.create(n).then((function(e){r(t.concat(e)),d(""),x(""),y("Added ".concat(e.name)),E("success"),setTimeout((function(){y(null)}),5e3)}))},newName:b,handleNameChange:function(e){d(e.target.value)},newNumber:v,handleNumberChange:function(e){x(e.target.value)}}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(i,{filteredList:F,handleDelete:function(e){var n=t.filter((function(n){return n.id!==e.id}));window.confirm("Delete ".concat(e.name))&&h.deletePerson(e.id).then((function(e){r(n)})).catch((function(t){console.log(t),y("Information of ".concat(e.name," has already been removed from server")),E("error"),setTimeout((function(){y(null)}),5e3),r(n)}))}})]})};t(37);u.a.render(Object(c.jsx)(m,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.aff96e2c.chunk.js.map